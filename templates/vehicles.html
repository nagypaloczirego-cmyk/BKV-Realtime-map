
<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Járművek</title>
<style>
body { font-family:Arial; padding:10px }
.vehicle {
  padding:10px;
  border-bottom:1px solid #ddd;
}
.vehicle a {
  text-decoration:none;
  color:black;
}
.vehicle:hover {
  background:#eee;
}
</style>
</head>
<body>

<h2>Járművek</h2>

<input id="search" placeholder="Rendszám keresés…" style="width:100%;padding:8px">

<div id="list"></div>

<script>
let allVehicles=[];

async function load(){
  const data = await (await fetch("/api/vehicles")).json();
  allVehicles = data
    .filter(v=>v.license_plate && v.license_plate!=="N/A")
    .sort((a,b)=>a.license_plate.localeCompare(b.license_plate));
  render();
}

function render(){
  const q = search.value.toUpperCase();
  list.innerHTML="";
  allVehicles
    .filter(v=>v.license_plate.includes(q))
    .forEach(v=>{
      list.innerHTML += `
        <div class="vehicle">
          <a href="/vehicle/${v.vehicle_id}">
            ${v.license_plate} – ${v.route_id}
          </a>
        </div>`;
    });
}

search.oninput=render;
load();
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>Járművek</title>
<style>
body { font-family:Arial; padding:10px }
.vehicle {
  padding:10px;
  border-bottom:1px solid #ddd;
}
.vehicle a {
  text-decoration:none;
  color:black;
}
.vehicle:hover {
  background:#eee;
}
</style>
</head>
<body>

<h2>Járművek</h2>

<input id="search" placeholder="Rendszám keresés…" style="width:100%;padding:8px">

<div id="list"></div>

<script>
let allVehicles=[];

async function load(){
  const data = await (await fetch("/api/vehicles")).json();
  allVehicles = data
    .filter(v=>v.license_plate && v.license_plate!=="N/A")
    .sort((a,b)=>a.license_plate.localeCompare(b.license_plate));
  render();
}

function render(){
  const q = search.value.toUpperCase();
  list.innerHTML="";
  allVehicles
    .filter(v=>v.license_plate.includes(q))
    .forEach(v=>{
      list.innerHTML += `
        <div class="vehicle">
          <a href="/vehicle/${v.vehicle_id}">
            ${v.license_plate} – ${v.route_id}
          </a>
        </div>`;
    });
}

search.oninput=render;
load();
</script>

</body>
</html>

